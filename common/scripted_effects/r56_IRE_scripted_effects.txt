#A simple idea level go down script effect
IRE_anglo_irish_trade_war_decrease = {
	if = {
		limit = {
			has_idea = IRE_anglo_irish_trade_war_5
		}
		remove_ideas = IRE_anglo_irish_trade_war_5
	}
    else_if = {
		limit = {
			has_idea = IRE_anglo_irish_trade_war_4
		}
		swap_ideas = {
			remove_idea = IRE_anglo_irish_trade_war_4
			add_idea = IRE_anglo_irish_trade_war_5
		}
	}
	else_if = {
		limit = {
			has_idea = IRE_anglo_irish_trade_war_3
		}
		swap_ideas = {
			remove_idea = IRE_anglo_irish_trade_war_3
			add_idea = IRE_anglo_irish_trade_war_4
		}
	}
	else_if = {
		limit = {
			has_idea = IRE_anglo_irish_trade_war_2
		}
		swap_ideas = {
			remove_idea = IRE_anglo_irish_trade_war_2
			add_idea = IRE_anglo_irish_trade_war_3
		}
	}
	else_if = {
		limit = {
			has_idea = IRE_anglo_irish_trade_war_1
		}
		swap_ideas = {
			remove_idea = IRE_anglo_irish_trade_war_1
			add_idea = IRE_anglo_irish_trade_war_2
		}
	}
	else_if = {
		limit = {
			has_idea = IRE_anglo_irish_trade_war
		}
		swap_ideas = {
			remove_idea = IRE_anglo_irish_trade_war
			add_idea = IRE_anglo_irish_trade_war_1
		}
	}
}

IRE_subsidized_mcmullan_bros_effect = {
	if = {
		limit = {
			113 = {
				free_building_slots = {
					building = synthetic_refinery
					size > 0
					include_locked = yes
				}
			}
		}
		113 = { 
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
		}
	}
	else = {
		random_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = synthetic_refinery
					size > 0
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
		}
	}
}
#Having dynamic modifers check for ideas for the swap isn't good pratice but it works so fuck you. 
IRE_lower_mil_industry_research_debuff_and_swap_dynamic_mod_effect = { #Only use script three times!
	ROOT = {
		if = {
			limit = {
				OR = {
					has_idea = IRE_the_irish_military_industry_hidden_research_penalties_1
					has_idea = IRE_the_irish_military_industry_hidden_research_penalties_2
				}
			}
			custom_effect_tooltip = IRE_new_defense_estimates_tt 
			add_to_variable = {
				IRE_the_irish_military_industry_land_equipment_upgrade_xp_cost = -0.10
				tooltip = land_equipment_upgrade_xp_cost_factor_tt
			}
		}
		if = { #third time
			limit = {	
				has_idea = IRE_the_irish_military_industry_hidden_research_penalties_3
			}
			custom_effect_tooltip = IRE_reform_the_mobile_workshops_tt
			add_to_variable = {
				IRE_the_irish_military_industry_land_equipment_upgrade_xp_cost = -0.05
				tooltip = land_equipment_upgrade_xp_cost_factor_tt
			}
		}
		if = { #For TT reasons 
			limit = {
				NOT = {
					OR = {
						has_idea = IRE_the_irish_military_industry_hidden_research_penalties_1
						has_idea = IRE_the_irish_military_industry_hidden_research_penalties_2
						has_idea = IRE_the_irish_military_industry_hidden_research_penalties_3
					}
				}
			}
			effect_tooltip = {
				custom_effect_tooltip = IRE_new_defense_estimates_tt 
				add_to_variable = {
					IRE_the_irish_military_industry_land_equipment_upgrade_xp_cost = -0.10
					tooltip = land_equipment_upgrade_xp_cost_factor_tt
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					has_idea = IRE_the_irish_military_industry_hidden_research_penalties_3
				}
				remove_ideas = IRE_the_irish_military_industry_hidden_research_penalties_3
				remove_dynamic_modifier = {
					modifier = IRE_the_irish_military_industry_3
				}
				add_dynamic_modifier = {
					modifier = IRE_the_irish_military_industry_4
				}
			}
			if = {
				limit = {
					has_idea = IRE_the_irish_military_industry_hidden_research_penalties_2
				}
				swap_ideas = {
					remove_idea = IRE_the_irish_military_industry_hidden_research_penalties_2
					add_idea = IRE_the_irish_military_industry_hidden_research_penalties_3
				}
				remove_dynamic_modifier = {
					modifier = IRE_the_irish_military_industry_2
				}
				add_dynamic_modifier = {
					modifier = IRE_the_irish_military_industry_3
				}
			}
			if = {
				limit = {
					has_idea = IRE_the_irish_military_industry_hidden_research_penalties_1
				}
				swap_ideas = {
					remove_idea = IRE_the_irish_military_industry_hidden_research_penalties_1
					add_idea = IRE_the_irish_military_industry_hidden_research_penalties_2
				}
				remove_dynamic_modifier = {
					modifier = IRE_the_irish_military_industry_1
				}
				add_dynamic_modifier = {
					modifier = IRE_the_irish_military_industry_2
				}
			}
			remove_dynamic_modifier = { #restacks modifier order so it appears that no modifiers were ever changed. 
				modifier = IRE_the_irish_defense_force
			}
			add_dynamic_modifier = {
				modifier = IRE_the_irish_defense_force
			}
		}
	}
}	
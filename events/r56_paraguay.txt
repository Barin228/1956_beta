add_namespace = r56_paraguay

country_event = {
	id = r56_paraguay.1
	title = r56_paraguay.1.t
	desc = r56_paraguay.1.d
	picture = GFX_military_coup_report

	fire_only_once = yes

	is_triggered_only = yes

	option = {
	    name = r56_paraguay.1.a
		ai_chance = {
			factor = 100
		}

		set_country_flag = PAR_franco_in_power
		set_politics = { ruling_party = neutrality elections_allowed = no }
		add_popularity = { ideology = neutrality popularity = 0.15 }
		PAR_rafael_franco = {
			promote_character = { ideology = military_junta }
		}
		remove_country_leader_role = {
			character = PAR_rafael_franco
			ideology = fascism_ideology
		}
		hidden_effect = {
			retire_ideology_leader = democratic
			create_country_leader = {
				name = "Félix Paiva"
				picture = "gfx/leaders/South America/portrait_south_america_generic_8.dds"
				expire = "1965.1.1"
				ideology = liberalism
			}
			every_country = { 
				if = {
					limit = {
						exists = yes
						has_capitulated = no
						OR = {
							original_tag =  ARG
							original_tag =  BRA
							original_tag =  BOL
							original_tag =  CHL
							original_tag =  URG
							original_tag =  PRU
							original_tag =  PAR
							original_tag =  COL
							original_tag =  VEN
							original_tag =  ECU
						}
					}
					every_country = { 
						if = {
							limit = {
								exists = yes
								has_capitulated = no
								OR = {
									original_tag =  ARG
									original_tag =  BRA
									original_tag =  BOL
									original_tag =  CHL
									original_tag =  URG
									original_tag =  PRU
									original_tag =  PAR
									original_tag =  COL
									original_tag =  VEN
									original_tag =  ECU
								}
							}
							news_event = { 
								hours = 10
								id = r56.news_event.8
							}
						}
					}
				}
			}
		}
  	}

  	option = { #Be communist thought hardass civil war if you'd like... loser
		name = r56_paraguay.2.a
		trigger = {
			has_country_flag = r56_PAR_civil_war_choice
		}
		ai_chance = {
				factor = 0.3
				modifier = {
					factor = 100.5
					is_historical_focus_on = no
				}
		}
		set_global_flag = pcw_fired
		set_country_flag = PAR_franco_in_power
		ROOT = {
			retire_character = PAR_higinio_morinigo
		}
		hidden_effect = {
			ROOT = {
				add_manpower = 1000
			}
			every_country = { 
				if = {
					limit = {
						exists = yes
						has_capitulated = no
						OR = {
							original_tag =  ARG
							original_tag =  BRA
							original_tag =  BOL
							original_tag =  CHL
							original_tag =  URG
							original_tag =  PRU
							original_tag =  PAR
							original_tag =  ECU
							original_tag =  COL
							original_tag =  VEN
							original_tag =  PAN
							original_tag =  USA
						}
					}
					news_event = { 
						hours = 8
						id = r56.news_event.9
					}
				}
			}
			retire_ideology_leader = fascism
			retire_ideology_leader = communism
			retire_ideology_leader = neutrality
			PAR_eusebio_ayala = {
				promote_character = {
				  Ideology = marxism
				}
			}
			set_politics = { ruling_party = communism elections_allowed = no }
			add_popularity = { ideology = communism popularity = 0.25 }
			add_popularity = { ideology = fascism popularity = -0.15 }
			add_popularity = { ideology = neutrality popularity = -0.05 }
		}
		effect_tooltip = {
			start_civil_war = {
				ruling_party = communism
				ideology = fascism
				size = 0.5
				capital = 688
				states = {
					688
				}	
			}
		}
		hidden_effect = {
			add_war_support = 0.05
			load_oob = "PAR_Civil_War"
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 25
				producer = PAR
			}
			start_civil_war = {
				ruling_party = communism
				ideology = fascism
				size = 0.5
				capital = 688
				keep_unit_leaders = {
					9099 
				}
				states = {
					688
				}	
			}
			random_other_country = {
					limit = {
						original_tag = PAR
						has_government = fascism
					}
					set_party_name = { 
						ideology = fascism
						name = PAF_franco_l
						long_name = PAF_franco_l_long
					}
					set_country_flag = PAR_pcw_op_fo
					set_country_leader_ideology = fascism_ideology
					promote_character = {
						character = PAR_rafael_franco
						ideology = fascism_ideology
					}
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 300
						producer = BOL
					}
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 150
						producer = PAR
					}
					add_manpower = 1000
					retire_ideology_leader = neutrality
					add_country_leader_role = {
						character = PAR_higinio_morinigo
						country_leader = {
							expire = "1965.1.1"
							ideology = despotism
							traits = {
								army_connections
							}
						}
						promote_leader = yes				
					}
					retire_ideology_leader = communism
					create_country_leader = {
						name = "Obdulio Barthe"
						picture = "r56_portrait_PAR_Obdulio_Barthe.dds"
						expire = "1965.1.1"
						ideology = marxism
					}
					set_country_flag = PAR_franco_in_power
					retire_ideology_leader = democratic
					add_war_support = 0.15
					add_popularity = { ideology = communism popularity = -0.01 }
					add_popularity = { ideology = fascism popularity = 0.20 }	
			}
			retire_ideology_leader = democratic
			create_country_leader = {
				name = "Félix Paiva"
				picture = "gfx/leaders/South America/portrait_south_america_generic_8.dds"
				expire = "1965.1.1"
				ideology = liberalism
			}
		}
	}
}
 
country_event = {
	id = r56_paraguay.3 # Request Weapons
	title = r56_paraguay.3.t
	desc = r56_paraguay.3.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Yes
		name = r56_paraguay.3.a
		FROM = {
			add_equipment_to_stockpile = { 
				type = infantry_equipment_0
				amount = 2000 
				producer = USA
			}

			add_equipment_to_stockpile = { 
				type = artillery_equipment_1
				amount = 650
				producer = USA
			}
			add_equipment_to_stockpile = { 
				type = support_equipment_1
				amount = 500
				producer = USA
			}
		}
		custom_effect_tooltip = MPL_newline
		ROOT = {
			add_equipment_to_stockpile = { 
				type = infantry_equipment_0
				amount = -2000
				producer = USA
			}
			add_equipment_to_stockpile = { 
				type = artillery_equipment_1
				amount = -650
				producer = USA
			}
			add_equipment_to_stockpile = { 
				type = support_equipment_1
				amount = -500
				producer = USA
			}
		}
		hidden_effect = {
			PAR = {
				country_event = r56_paraguay.5
			}
		}
	}

	option = { # No - Bye
	 	name = r56_paraguay.3.b
		FROM =  {
			add_opinion_modifier = { target = USA modifier = medium_decrease }
		}
		hidden_effect = {
			PAR = {
				country_event = r56_paraguay.5
			}
		}
	}
}

country_event = {
	id = r56_paraguay.4 # Request Weapons Positive Return
	title = r56_paraguay.4.t
	desc = r56_paraguay.4.d
	picture = GFX_report_event_generic_usa_treaty

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Yes
		name = r56_paraguay.4.a
	}
}

country_event = {
	id = r56_paraguay.5 # Request Weapons Negative Return
	title = r56_paraguay.5.t
	desc = r56_paraguay.5.d
	picture = GFX_report_event_generic_ruins

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Yes
		name = r56_paraguay.5.a
	}
}


country_event = {
	id = r56_paraguay.6 # Request Support (French Volunteers/Volunteer Forces)
	title = r56_paraguay.6.t
	desc = r56_paraguay.6.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Yes - We shall help transport French Nationals to fight for your cause
		name = r56_paraguay.6.a
		FROM = {
			add_timed_idea = {
				idea = idea_PAR_french_volunteers
				days = 1080
			}
			country_event = r56_paraguay.7
		}
		send_equipment = {
			equipment = convoy_1
			amount = 10
			target = PAR
		}
	}

	option = { # We'll do you one better! Involve the French Army.... (psst don't let the Americans know)
		name = r56_paraguay.6.b
		FROM = {
			division_template = {
				name = "3e Régiment étranger d'infanterie"
				is_locked = yes
				support={
					artillery={ x=0 y=0 }
				}
				regiments={
					infantry ={ x=0 y=0 }
					infantry ={ x=0 y=1 }
					infantry ={ x=0 y=2 }
					artillery_brigade={ x=1 y=0 }
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"3e Régiment étranger d'infanterie\" division_template = \"3e Régiment étranger d'infanterie\" start_experience_factor = 0.5 start_equipment_factor = 1 start_manpower_factor = 1"
					owner = PAR
					count = 1 
				}
			}
			country_event = r56_paraguay.7
		}
	}

	option = { # Forget it! We've got our own problems
		name = r56_paraguay.6.c
		FROM = {
			country_event = r56_paraguay.8
		}
	}
}

country_event = {
	id = r56_paraguay.7 #Positive
	title = r56_paraguay.7.t
	desc = r56_paraguay.7.d
	picture = GFX_report_event_generic_read_write
	fire_only_once = yes
	is_triggered_only = yes

	option = { #
		name = r56_paraguay.7.a
	}
}

country_event = {
	id = r56_paraguay.8 #Negative
	title = r56_paraguay.8.t
	desc = r56_paraguay.8.d
	picture = GFX_report_event_generic_read_write
	fire_only_once = yes
	is_triggered_only = yes

	option = { #
		name = r56_paraguay.8.a
	}
}


country_event = {
	id = r56_paraguay.9
	title = r56_paraguay.9.t
	desc = r56_paraguay.9.d
	picture = GFX_report_event_generic_read_write
	fire_only_once = yes
	is_triggered_only = yes

	option = { #Yes 
		name = r56_paraguay.9.a
	}

	option = { # NO
		name = r56_paraguay.9.b
		FROM = {
			country_event = r56_paraguay.8 
		}
	}
}
